DS.01 Базовый Python. Тема 02. Строки в Python        

**Строка** — это набор символов произвольной длины. Длина строки — это количество символов в строке, которое можно найти функцией `len()`.

В Python текстовая информация хранится в строках, объектах типа `str`. Строки — это наборы символов произвольной длины. Символы в строке идут последовательно, друг за другом, при этом у каждого — свой порядковый номер, индекс.

*   индекс первого символа — `0`;

Длина строки — это количество её символов. Ограничением может быть только объем оперативной памяти компьютера.

Для подсчёта длины применяют специальную функцию: len(). В качестве аргумента len() принимает строку, а возвращает её длину — целое число.

Строки, которые содержат перенос строки, называют многострочными. Чтобы их создать, текст заключают в **три** одинарные или три двойные кавычки: `'''` или `"""`

```python
multiline\_string = '''Параметры квадрата: 
сторона - 3,
периметр - 12,
площадь - 9.
```

  

Экранирование специальных символов
----------------------------------

Кавычки сигнализируют Python о начале и конце строки. Но иногда кавычки должны стать частью самой строки. Эта техника называется _экранированием_. Специальные символы экранируют, помечая знаком `\`


```Python

rule = 'Строки в Python помещают в одинарные кавычки, вот так: \\'текст\\''
```
  

  

Этот же знак встречается в некоторых специальных символах. Такие сочетания считаются за один символ.

*   `\n` — перенос строки;
*   `\t` — табуляция.

В Python символ из строки получают по его порядковому номеру — индексу. Если обратиться к индексу, который больше длины строки, произойдёт ошибка.

Другая ошибка возникнет, если попытаться изменить символ строки, обратившись к нему по индексу. Строки — неизменяемый тип данных. Можно только сохранить новую строку вместо старой.

 Чтобы получить символ из конца длинной строки, проще применить отрицательную индексацию.


```Python
print(word\[4\])
print(word\[-2\])
```
  

В Python есть и более простой способ получить фрагмент строки (подстроку), да ещё и сразу целиком. Вам нужно выполнить _срез._

Они позволяют получить не один, а сразу несколько идущих подряд символов строки. Чтобы сделать срез, в квадратных скобках через знак `:` указывают начало и конец желаемого диапазона. Например, `word[1:5]`, `some_data[7:9],` city\[:3\], city\[2:\] .

*   число перед двоеточием означает индекс первого символа подстроки;
*   число после двоеточия — индекс, который идёт за последним знаком подстроки.

В срезах Python игнорирует значения индексов, которые лежат за пределами существующих.

city\[3:0\] - вернёт пустую строку

Со строками можно выполнять различные операции.

Методы строк
============

*   `replace()` — заменит часть строки;
*   `find()` — ищет подстроку в строке;
*   `upper()` — заменяет все буквы в строке на прописные;
*   `lower()` — заменяет все буквы на строчные.

Замена части строки
-------------------

Метод `replace()` принимает два аргумента:

*   подстроку, которую нужно заменить;
*   подстроку, которая заменит исходную.

Метод `find()` ищет подстроку в строке. Если найдёт — вернёт индекс, начиная с которого подстрока встречается в исходной строке.


```Python
some\_string = 'leaving'
print(some\_string)
some\_string = some\_string.replace('leav', 'stay') #заменяем подстроку leav строкой stay
print(some\_string)
\# но метод вернёт индекс первого вхождения
ind = word.find('hello')
\# Три аргумента: подстрока, индекс начала поиска, индекс завершения, увеличенный на 1
ind = word.find('hello', 15, 25)
```
  

  

F-строки
========

Иногда приходится создавать длинные строки из символов и значений переменных. Причём переменные могут быть разных типов

Читать такой код сложно из-за операторов `+`, объединяющих строки, и вызова функции `str()`, которая приводит числа к типу `str`.

*   Надо указать имена переменных внутри строки в фигурных скобках `{}`. Тогда не придётся объединять строки через `+`.
*   Не нужно заботиться о типе переменных — Python сам приведёт их к типу `str`.

introduction = f'Hello, this is {name}, he is {age}, his height is {height}'

introduction = f'Hello, this is {name.upper()}, next year he will be {age + 1}'

В f-строках к имени переменной можно добавить шаблон. Он укажет, как должно отображаться значение переменной. Для форматирования процентов работает шаблон `:.n%`, где `n` — количество знаков после точки. Для вещественных чисел добавляют шаблон `:.nf`, где `n` _—_ количество знаков после точки.

print(f'Доля русского языка в интернете составляет {russian\_web\_part:.1%}')

print(f'Доля русского языка в интернете составляет {russian\_web\_part:.2%}')

print(f'Доля русского языка в интернете составляет {russian\_web\_part:.2f}')

Раньше строки форматировали встроенным методом — `format()`. В строки добавляли метки, на место которых нужно подставить значение переменных. Метками служили фигурные скобки с числом

introduction \= 'Hello, this is {0}, he is {1}, his height is {2}'.format(name, age, height)

introduction = 'Hello, this is {0}, next year he will be {1}'.format(name.upper(), age + 1)