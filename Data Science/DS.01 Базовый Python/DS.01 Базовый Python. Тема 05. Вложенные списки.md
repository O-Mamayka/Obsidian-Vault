[**Тема 5. Вложенные списоки**](https://practicum.yandex.ru/learn/data-scientist/courses/f332f1ff-8036-4f31-ad9c-866410873a45/sprints/43469/topics/bf16b6f5-b527-43b5-bc5b-de2a934908c8/lessons/23f68856-6cf8-4514-b2d3-89229001f174/)
 
**Вложенный список** — список в Python, элементами которого тоже являются списки.
  
```python
for row in movies_table: # перебирается каждый внутренний список

    for elem in row: _# в очередном внутреннем списке перебирается каждый элемент_

        print(elem, end=', ') _# печатается очередной элемент, в конец добавляются три пробела, без перевода на новую строку_

    print() #
```
  
```python
total = 0

for sale in sales_info:

    total += sale[1]

print(total)
```
  
```python
rating_total = 0 # присвойте начальное значение счётчику

for movie in movies_table: _# итератор movie по очереди перебирает списки внутри списка списков movies_table_

    rating_total += movie[5] _# добавляем к счётчику рейтингу очередного фильма_

print(rating_total)
```
  

```python
for movie in movies_table:

    movie.append('Кинопоиск')
```
  

Циклы подходят, чтобы перебрать элементы обычного списка. Для вложенного списка мы создадим вложенный цикл.

Ширину ячейки при выводе можно задать например f-строкой : **elem:<45**
```python
for movie in movies_table: # для каждого списка в списке

    for elem in movie: # перебираем элементы очередного списка

        print(f'{**elem:<45**}', end='') # выравнивание каждого элемента по левому краю с фиксированной шириной строки 45

    print() # переводим на новую строку после вывода информации об очередном фильме
```
  
  
```python
movies_table = [

    ['Побег из Шоушенка', 'США', 1994, 'драма', 142, 9.111, 9.3],

    ['Хороший, плохой, злой', 'Италия', 1966, 'вестерн', 178, 8.521, 8.8],

    ['Бойцовский клуб', 'США', 1999, 'триллер, драма, криминал', 139, 8.644, 8.8],

    ['Харакири', 'Япония', 1962, 'драма, боевик, история', 133, 8.106, 8.7],
]
```
  
```python
for movie in movies_table: _# перебираем списки_

    avg_rating = (movie[5] + movie[6]) / 2 _# берём из текущего списка рейтинги Кинопоиска и IMDB, складываем их и делим на два

    movie.append(avg_rating) # добавляем полученное значение в конец текущего списка
```
  
```python
for movie in movies_table:

    for elem in movie:

        print(f'{elem:<45}', end='')

    print()
```
  
```python
for movie in movies_table:

    movie.insert(1, 'FullHD')
```
  
```python
for movie in movies_table: _# перебираем списки_

    avg_rating = (movie[5] + movie[6]) / 2 _# берём из текущего списка рейтинги Кинопоиска и IMDB, складываем их и делим на два._

    movie.append(avg_rating) _# добавляем полученное значение в конец текущего списка_

for movie in movies_table:

    for elem in movie:

        print(f'{elem:<45}', end='')

    print()

  

sum_area = 0

for area in sales: _# перебираем списки_

    #print(sales[1])

    sum_area = area[1] + area[2]

    area.append(sum_area)

print(sales)
```
**Лямбда-функции** — функции, которые создаются в одну строку. После ключевого слова lambda указывают две части лямбда-функции:
-   **перед** двоеточием: **аргумент**, который получит функция;
-   **после** двоеточия: **инструкция**, которую функция выполнит.

Лямбда-функция выполнит инструкцию и вернёт результат.
```Python
lambda <аргумент>: <инструкция>
```
  

```python
movies_table = [

    ['Побег из Шоушенка', 'США', 1994, 'драма', 142, 9.111],

    ['Иди и смотри', 'СССР', 1985, 'драма, военный', 136, 8.094]

]
```
```python
### Сортировка списка списков

_# отсортируем таблицу по возрастанию рейтинга — то есть по пятому элементу подсписков_

movies_table_sorted = sorted(movies_table, key=**lambda** row: row[5], reverse=True)

_# блок для вывода результата на экран_

for movie in movies_table_sorted: _# для каждого списка в списке movies_table_sorted_

    for elem in movie: _# перебираем элементы очередного списка_

        print(f'{elem:<45}', end='') _# выравнивание каждого элемента по левому краю с фиксированной шириной строки 45_

    print() # переводим на новую строку после вывода информации об очередном фильме
```
  

Чтобы ничего не забыть, скачайте [шпаргалку темы: ](https://code.s3.yandex.net/data-analyst/praktikum_data_analysis_takeaways_basicPython_theme5.pdf)